### EXPORT
export ZSH="$HOME/.oh-my-zsh"
export TERM="xterm-256color"
export PYTHONDONTWRITEBYTECODE=1
export PATH="$PATH:$HOME/go/bin"
export PIPENV_VENV_IN_PROJECT=1
export MANPAGER="sh -c 'col -bx | bat -l man -p'"
export BAT_THEME="base16"

### PLUGINS
plugins=(git tmux vi-mode)

### THEME
ZSH_THEME="spaceship"

### SOURCE
source $ZSH/oh-my-zsh.sh

### ALIASES
alias nv='nvim'
alias snv='sudo -E nvim'
alias vim='vim -c 'Goyo''
alias py='python3 -q'
alias pe='pipenv'
alias ca='cargo'
alias cac='fn() { cargo new $1 && cd $_ }; fn'
alias skw='grep -rnw . -e'
alias fig='docker-compose'
alias msql='mysql'
alias lsql='sqlite3'
alias ls='exa'
alias l='exa'
alias la='exa -a'
alias ll='exa -l'
alias lla='exa -la'
alias cat='bat --style=numbers'
alias top='btm'
alias ps='procs'
alias find='fd'
alias grep='rg'
alias du='dust'
alias man='tldr --pager'
alias feh='feh --image-bg "#161821"'
alias za='zathura'
alias ra='ranger'
alias ch='chezmoi'
alias matrix='unimatrix -s 96 -c cyan'
alias musc='musikcube'
alias slc='silicon'

### HOOKS
zshcache_time="$(date +%s%N)"
autoload -Uz add-zsh-hook
rehash_precmd() {
  if [[ -a /var/cache/zsh/pacman ]]; then
    local paccache_time="$(date -r /var/cache/zsh/pacman +%s%N)"
    if (( zshcache_time < paccache_time )); then
      rehash
      zshcache_time="$paccache_time"
    fi
  fi
}
add-zsh-hook -Uz precmd rehash_precmd
